# ğŸš€ éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°†é¡¹ç›®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

## ğŸ“‹ éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šVercel + Railwayï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰

- **å‰ç«¯**ï¼šVercelï¼ˆå…è´¹ï¼Œè‡ªåŠ¨ HTTPSï¼‰
- **åç«¯**ï¼šRailwayï¼ˆå…è´¹é¢åº¦ï¼Œæ˜“äºé…ç½®ï¼‰

### æ–¹æ¡ˆäºŒï¼šNetlify + Render

- **å‰ç«¯**ï¼šNetlifyï¼ˆå…è´¹ï¼Œè‡ªåŠ¨ HTTPSï¼‰
- **åç«¯**ï¼šRenderï¼ˆå…è´¹ï¼Œä½†æœ‰é™åˆ¶ï¼‰

### æ–¹æ¡ˆä¸‰ï¼šå…¨æ ˆéƒ¨ç½²ï¼ˆRailway/Fly.ioï¼‰

- **å‰åç«¯**ï¼šéƒ¨ç½²åˆ°åŒä¸€ä¸ªå¹³å°

---

## ğŸ¯ æ–¹æ¡ˆä¸€ï¼šVercel + Railway éƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Railway

1. **æ³¨å†Œ Railway è´¦å·**
   - è®¿é—®ï¼šhttps://railway.app
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**
   - åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
     ```
     DEEPSEEK_API_KEY=your_api_key_here
     DEFAULT_MODEL=deepseek-chat
     FLASK_DEBUG=False
     FLASK_PORT=5000
     CORS_ORIGINS=https://your-frontend-domain.vercel.app
     ```

4. **é…ç½®éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Python é¡¹ç›®
   - ç¡®ä¿ `Procfile` æˆ– `railway.json` é…ç½®æ­£ç¡®ï¼ˆè§ä¸‹æ–¹ï¼‰

5. **è·å–åç«¯ URL**
   - Railway ä¼šæä¾›ä¸€ä¸ª URLï¼Œä¾‹å¦‚ï¼š`https://your-backend.up.railway.app`
   - è®°ä¸‹è¿™ä¸ª URLï¼Œä¸‹ä¸€æ­¥ä¼šç”¨åˆ°

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

1. **æ³¨å†Œ Vercel è´¦å·**
   - è®¿é—®ï¼šhttps://vercel.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - ç‚¹å‡» "Add New Project"
   - é€‰æ‹©ä½ çš„ GitHub ä»“åº“
   - é€‰æ‹© `frontend` ç›®å½•ä½œä¸ºæ ¹ç›®å½•

3. **é…ç½®ç¯å¢ƒå˜é‡**
   - åœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
     ```
     VITE_API_BASE_URL=https://your-backend.up.railway.app/api
     ```
   - å°† `your-backend.up.railway.app` æ›¿æ¢ä¸ºä½ çš„ Railway åç«¯åœ°å€

4. **é…ç½®æ„å»ºå‘½ä»¤**
   - Build Command: `npm run build`
   - Output Directory: `dist`
   - Install Command: `npm install`

5. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ
   - è·å¾—å‰ç«¯ URLï¼Œä¾‹å¦‚ï¼š`https://your-project.vercel.app`

### ç¬¬ä¸‰æ­¥ï¼šæ›´æ–° CORS é…ç½®

å›åˆ° Railwayï¼Œæ›´æ–° `CORS_ORIGINS` ç¯å¢ƒå˜é‡ï¼š
```
CORS_ORIGINS=https://your-project.vercel.app
```

é‡æ–°éƒ¨ç½²åç«¯ã€‚

---

## ğŸ¯ æ–¹æ¡ˆäºŒï¼šNetlify + Render éƒ¨ç½²

### éƒ¨ç½²åç«¯åˆ° Render

1. **æ³¨å†Œ Render è´¦å·**
   - è®¿é—®ï¼šhttps://render.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»º Web Service**
   - é€‰æ‹©ä½ çš„ GitHub ä»“åº“
   - é…ç½®ï¼š
     - **Name**: `chat-idol-backend`
     - **Root Directory**: `backend`
     - **Environment**: `Python 3`
     - **Build Command**: `pip install -r requirements.txt`
     - **Start Command**: `python app.py`

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   DEEPSEEK_API_KEY=your_api_key_here
   DEFAULT_MODEL=deepseek-chat
   FLASK_DEBUG=False
   FLASK_PORT=5000
   CORS_ORIGINS=https://your-frontend.netlify.app
   ```

4. **è·å–åç«¯ URL**
   - Render ä¼šæä¾› URLï¼Œä¾‹å¦‚ï¼š`https://your-backend.onrender.com`

### éƒ¨ç½²å‰ç«¯åˆ° Netlify

1. **æ³¨å†Œ Netlify è´¦å·**
   - è®¿é—®ï¼šhttps://netlify.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **å¯¼å…¥é¡¹ç›®**
   - ç‚¹å‡» "Add new site" â†’ "Import an existing project"
   - é€‰æ‹©ä½ çš„ GitHub ä»“åº“
   - é…ç½®ï¼š
     - **Base directory**: `frontend`
     - **Build command**: `npm run build`
     - **Publish directory**: `frontend/dist`

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   VITE_API_BASE_URL=https://your-backend.onrender.com/api
   ```

4. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy site"
   - è·å¾—å‰ç«¯ URL

---

## ğŸ³ æ–¹æ¡ˆä¸‰ï¼šDocker éƒ¨ç½²ï¼ˆé«˜çº§ï¼‰

å¦‚æœä½ æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ Docker éƒ¨ç½²ã€‚

### ä½¿ç”¨ Docker Compose

1. **æ„å»ºå¹¶å¯åŠ¨**
   ```bash
   docker-compose up -d
   ```

2. **è®¿é—®åº”ç”¨**
   - å‰ç«¯ï¼šhttp://localhost:3000
   - åç«¯ï¼šhttp://localhost:5000

è¯¦è§ `docker-compose.yml` å’Œ `Dockerfile` æ–‡ä»¶ã€‚

---

## âœ… éƒ¨ç½²åæ£€æŸ¥æ¸…å•

- [ ] åç«¯ API å¯ä»¥è®¿é—®ï¼ˆæµ‹è¯•ï¼š`https://your-backend.com/api/idols`ï¼‰
- [ ] å‰ç«¯å¯ä»¥æ­£å¸¸åŠ è½½
- [ ] å‰ç«¯å¯ä»¥æˆåŠŸè°ƒç”¨åç«¯ API
- [ ] CORS é…ç½®æ­£ç¡®ï¼ˆæ²¡æœ‰è·¨åŸŸé”™è¯¯ï¼‰
- [ ] ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®
- [ ] HTTPS å·²å¯ç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ï¼‰

## ğŸ”§ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: CORS é”™è¯¯

**è§£å†³ï¼š** ç¡®ä¿åç«¯çš„ `CORS_ORIGINS` ç¯å¢ƒå˜é‡åŒ…å«å‰ç«¯åŸŸåã€‚

### é—®é¢˜ 2: API è¯·æ±‚å¤±è´¥

**è§£å†³ï¼š** 
- æ£€æŸ¥ `VITE_API_BASE_URL` æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥åç«¯ URL æ˜¯å¦å¯è®¿é—®
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼ˆæµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼‰

### é—®é¢˜ 3: ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ

**è§£å†³ï¼š**
- Vercel/Netlify éœ€è¦é‡æ–°éƒ¨ç½²æ‰èƒ½åº”ç”¨æ–°çš„ç¯å¢ƒå˜é‡
- ç¡®ä¿ç¯å¢ƒå˜é‡åç§°æ­£ç¡®ï¼ˆVite éœ€è¦ `VITE_` å‰ç¼€ï¼‰

## ğŸ“ æ›´æ–° README ä¸­çš„é“¾æ¥

éƒ¨ç½²å®Œæˆåï¼Œæ›´æ–° `README.md` ä¸­çš„åœ¨çº¿æ¼”ç¤ºé“¾æ¥ï¼š

```markdown
## ğŸŒ åœ¨çº¿æ¼”ç¤º

[ğŸ‘‰ ç‚¹å‡»ä½“éªŒåœ¨çº¿ç‰ˆæœ¬](https://your-project.vercel.app)
```

---

## ğŸ‰ å®Œæˆï¼

éƒ¨ç½²å®Œæˆåï¼Œä½ çš„é¡¹ç›®å°±å¯ä»¥åœ¨çº¿è®¿é—®äº†ï¼

